一般軟體的開發上比較是在較強的 PC 上做運算，所以較少使用或看到這三個關鍵字，但如果是在一些比較低階的裝置或是較接近硬體的程式，例如 MCU，此時就會常使用或看到這些關鍵字。

## 1. volatile
C 語言在程式完成後需要編譯成其他檔案才能執行，而編譯器在某些地方會幫忙做最佳化。不過有些時候雖然能在效率上做最佳化，但卻不能得到想要的結果。volatile 中文意思是「易揮發的」，在程式語言中的意義為「易變的」，也就是在程式執行過程中有一個變數會根據硬體的輸入，或是多執行緒編寫而常常改變，但是編譯器覺得這種寫法沒效率，會直接把該變數設為定值，所以此關鍵字是告訴編譯器**不要對此變數做最佳化的意思**

#### 1. 語法
若要宣告一變數或指標為 volatile 有以下四種：
```C
volatile int foo;  // 一個易變的整數變數
int volatile foo;  // 一個易變的整數變數

volatile int *foo; // 一個值易變的整數指標
int volatile *foo; // 一個值易變的整數指標

int * volatile foo;//一個位置易變的整數指標

int volatile * volatile foo;//一個值與位置易變的整數指標
```

#### 2. 在 I/O 的情況下使用
```C
uint8_t * ptr = (uint8_t *) 0x1234;
// 等待某些指令讓 *ptr 不為 0
while (*ptr == 0)
{
    //do something
}
```
以上程式碼片段為等待儀器或使用者狀態改變用，但是編譯器覺得從上下文看不出什麼變化，所以會直接把這段省略掉，所以不能得到預期的結果。可將以上程式碼修改為以下的寫法
```C
volatile uint8_t * ptr = (volatile uint8_t *) 0x1234;
// 等待某些指令讓 *ptr 不為 0
while (*ptr == 0)
{
    //do something
}
```
如此一來就會跟著所接收到的資料改變。
